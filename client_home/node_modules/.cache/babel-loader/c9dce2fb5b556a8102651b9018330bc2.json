{"remainingRequest":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\src\\views\\thematic_activities\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\src\\views\\thematic_activities\\details.vue","mtime":1683787544000},{"path":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\babel.config.js","mtime":1683787544000},{"path":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\酷酷酷\\Desktop\\springboot以画眉弄为例的特色乡村旅游推介系统\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRpdl90aGVtYXRpY19hY3Rpdml0aWVzIGZyb20gIkAvY29tcG9uZW50cy9kaXkvZGl2X3RoZW1hdGljX2FjdGl2aXRpZXMudnVlIjsKaW1wb3J0IGxpc3RfY29tbWVudCBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2xpc3RfY29tbWVudC52dWUiOwppbXBvcnQgYmFyX3RpdGxlIGZyb20gIkAvY29tcG9uZW50cy9kaXkvYmFyX3RpdGxlLnZ1ZSI7CmltcG9ydCBmb3JtX2VkaXRvciBmcm9tICJAL2NvbXBvbmVudHMvZGl5L2Zvcm1fZWRpdG9yLnZ1ZSI7CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGluXSwKICBjb21wb25lbnRzOiB7CiAgICBsaXN0X2NvbW1lbnQsCiAgICBiYXJfdGl0bGUsCiAgICBmb3JtX2VkaXRvciwKICAgIGRpdl90aGVtYXRpY19hY3Rpdml0aWVzCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsX2dldF9vYmo6ICJ+L2FwaS90aGVtYXRpY19hY3Rpdml0aWVzL2dldF9vYmo/IiwKICAgICAgZmllbGQ6ICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIiwKICAgICAgb2JqOiB7CiAgICAgICAgInByYWlzZV9sZW4iOiAwCiAgICAgIH0sCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgImFjdGl2aXR5X25hbWUiOiAiIiwKICAgICAgICAicGljdHVyZSI6ICIiLAogICAgICAgICJhY3Rpdml0eV90eXBlIjogIiIsCiAgICAgICAgImV2ZW50X2xvY2F0aW9uIjogIiIsCiAgICAgICAgImFjdGl2aXR5X3RpbWUiOiAiIiwKICAgICAgICAiZXZlbnRfZGV0YWlscyI6ICIiLAogICAgICAgICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIjogMAogICAgICB9LAogICAgICAvLyDngrnotZ4KICAgICAgcHJhaXNlOiAwLAogICAgICAvLyDngrnotZ7nirbmgIEKICAgICAgc3RhdGVfcHJhaXNlOiBmYWxzZSwKICAgICAgLy8g5pS26JeP54q25oCBCiAgICAgIHN0YXRlX2NvbGxlY3Q6IGZhbHNlLAogICAgICBsaXN0X2NvbW1lbnQ6IFtdLAogICAgICBmb3JtX2NvbW1lbnQ6IHsKICAgICAgICBzb3VyY2VfdGFibGU6ICJ0aGVtYXRpY19hY3Rpdml0aWVzIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IDAsCiAgICAgICAgcmVwbHlfdG9faWQ6IDAKICAgICAgfSwKICAgICAgY291bnRfcGFnZXM6IDEgLy8g6aG16Z2i5pWwCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIOa3u+WKoOiuv+mXrumHjw0KICAgICAqLwogICAgYWRkX2hpdHMob2JqKSB7CiAgICAgIG9ialsiaGl0cyJdID0gb2JqWyJoaXRzIl0gKyAxOwogICAgICB2YXIgaGl0cyA9IG9ialsiaGl0cyJdOwogICAgICB0aGlzLiRwb3N0KCd+L2FwaS90aGVtYXRpY19hY3Rpdml0aWVzL3NldD90aGVtYXRpY19hY3Rpdml0aWVzX2lkPScgKyBvYmpbInRoZW1hdGljX2FjdGl2aXRpZXNfaWQiXSwgewogICAgICAgIGhpdHMKICAgICAgfSwgcmVzID0+IHsKICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgY29uc29sZS5sb2coIua3u+WKoOiuv+mXrumHj+eKtuaAge+8miIsIHJlcy5yZXN1bHQpOwogICAgICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgICAgIHNvdXJjZV90YWJsZTogInRoZW1hdGljX2FjdGl2aXRpZXMiLAogICAgICAgICAgICBzb3VyY2VfZmllbGQ6ICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIiwKICAgICAgICAgICAgc291cmNlX2lkOiB0aGlzLm9iai50aGVtYXRpY19hY3Rpdml0aWVzX2lkLAogICAgICAgICAgICB1c2VyX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJfaWQKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLiRwb3N0KCJ+L2FwaS9oaXRzL2FkZD8iLCBib2R5LCByZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldF9vYmpfYWZ0ZXIoanNvbikgewogICAgICAvLyDliKTmlq3mmK/lkKbojrflj5bliLDmlbDmja4KICAgICAgaWYgKGpzb24gJiYganNvbi5yZXN1bHQgJiYganNvbi5yZXN1bHQub2JqKSB7CiAgICAgICAgY29uc29sZS5sb2coanNvbi5yZXN1bHQub2JqKTsKICAgICAgICB2YXIgb2JqID0ganNvbi5yZXN1bHQub2JqOwogICAgICAgIHRoaXMub2JqID0gb2JqOwogICAgICAgIC8vIOWinuWKoOeCueWHu+aVsAogICAgICAgIHRoaXMuYWRkX2hpdHMob2JqKTsKICAgICAgICAvLyDojrflj5bngrnotZ7mlbAKICAgICAgICB0aGlzLmdldF9wcmFpc2Uob2JqKTsKICAgICAgICAvLyDliJ3lp4vljJbmlLbol4/nirbmgIEKICAgICAgICB0aGlzLmdldF9jb2xsZWN0KG9iaik7CiAgICAgICAgdGhpcy5nZXRfY29tbWVudChvYmopOwogICAgICAgIHRoaXMuZm9ybV9jb21tZW50LnNvdXJjZV9pZCA9IHRoaXMub2JqLnRoZW1hdGljX2FjdGl2aXRpZXNfaWQ7CiAgICAgIH0KICAgIH0sCiAgICAvKioNCiAgICAgKiDliJ3lp4vljJbmlLbol4/nirbmgIENCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqDQogICAgICovCiAgICBnZXRfY29sbGVjdChvYmopIHsKICAgICAgdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHNvdXJjZV90YWJsZTogInRoZW1hdGljX2FjdGl2aXRpZXMiLAogICAgICAgIHNvdXJjZV9maWVsZDogInRoZW1hdGljX2FjdGl2aXRpZXNfaWQiLAogICAgICAgIHNvdXJjZV9pZDogb2JqWyJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIl0sCiAgICAgICAgdXNlcl9pZAogICAgICB9OwogICAgICB0aGlzLiRnZXQoJ34vYXBpL2NvbGxlY3QvY291bnQ/JywgcXVlcnksIHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLnJlc3VsdCB8fCByZXMucmVzdWx0ID09PSAwKSB7CiAgICAgICAgICB2YXIgYmwgPSByZXMucmVzdWx0ID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgICAgdGhpcy5zdGF0ZV9jb2xsZWN0ID0gYmw7CiAgICAgICAgICBjb25zb2xlLmxvZygi5pS26JeP54q25oCB77yaIiArIGJsKTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqKioNCiAgICAgKiDliIbkuqvngrnlh7sNCiAgICAgKg0KICAgICAqICAqLwogICAgdG9TaGFyZShlKSB7CiAgICAgIHdpbmRvdy5vcGVuKGUpOwogICAgfSwKICAgIC8qKg0KICAgICAqIOaUueWPmOaUtuiXj+eKtuaAgQ0KICAgICAqLwogICAgY2hhbmdlX2NvbGxlY3QoKSB7CiAgICAgIHZhciB1c2VyX2lkID0gdGhpcy51c2VyLnVzZXJfaWQ7CiAgICAgIHZhciBxdWVyeSA9IHsKICAgICAgICBzb3VyY2VfdGFibGU6ICJ0aGVtYXRpY19hY3Rpdml0aWVzIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IHRoaXMub2JqWyJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIl0sCiAgICAgICAgdXNlcl9pZAogICAgICB9OwoKICAgICAgLy8g5pS26JeP54q25oCBCiAgICAgIGlmICh0aGlzLnN0YXRlX2NvbGxlY3QpIHsKICAgICAgICB0aGlzLnN0YXRlX2NvbGxlY3QgPSBmYWxzZTsKICAgICAgICB0aGlzLiRnZXQoJ34vYXBpL2NvbGxlY3QvZGVsPycsIHF1ZXJ5LCByZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgdGhpcy4kdG9hc3QoIuWPlua2iOaUtuiXjyIpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcy5lcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdGF0ZV9jb2xsZWN0ID0gdHJ1ZTsKICAgICAgICBxdWVyeS50aXRsZSA9IHRoaXMub2JqLmFjdGl2aXR5X25hbWU7CiAgICAgICAgLypbL2lmXSovCiAgICAgICAgcXVlcnkuaW1nID0gdGhpcy5vYmoucGljdHVyZTsKICAgICAgICB0aGlzLiRwb3N0KCd+L2FwaS9jb2xsZWN0L2FkZD8nLCBxdWVyeSwgcmVzID0+IHsKICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLmlLbol4/miJDlip8iKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIDsKICAgIH0sCiAgICAvKioNCiAgICAgKiDojrflj5bngrnotZ4NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqDQogICAgICovCiAgICBnZXRfcHJhaXNlKG9iaikgewogICAgICB2YXIgdXNlcl9pZCA9IHRoaXMudXNlci51c2VyX2lkOwogICAgICB0aGlzLiRnZXQoIn4vYXBpL3ByYWlzZS9jb3VudD8iLCB7CiAgICAgICAgc291cmNlX3RhYmxlOiAidGhlbWF0aWNfYWN0aXZpdGllcyIsCiAgICAgICAgc291cmNlX2ZpZWxkOiAidGhlbWF0aWNfYWN0aXZpdGllc19pZCIsCiAgICAgICAgc291cmNlX2lkOiBvYmpbInRoZW1hdGljX2FjdGl2aXRpZXNfaWQiXQogICAgICB9LCByZXMgPT4gewogICAgICAgIGlmIChyZXMucmVzdWx0IHx8IHJlcy5yZXN1bHQgPT09IDApIHsKICAgICAgICAgIHRoaXMucHJhaXNlID0gcmVzLnJlc3VsdDsKICAgICAgICAgIGNvbnNvbGUubG9nKCLngrnotZ7mlbDvvJoiLCByZXMucmVzdWx0KTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuJGdldCgifi9hcGkvcHJhaXNlL2NvdW50PyIsIHsKICAgICAgICBzb3VyY2VfdGFibGU6ICJ0aGVtYXRpY19hY3Rpdml0aWVzIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IG9ialsidGhlbWF0aWNfYWN0aXZpdGllc19pZCJdLAogICAgICAgIHVzZXJfaWQKICAgICAgfSwgcmVzID0+IHsKICAgICAgICBpZiAocmVzLnJlc3VsdCB8fCByZXMucmVzdWx0ID09PSAwKSB7CiAgICAgICAgICB0aGlzLnN0YXRlX3ByYWlzZSA9IHJlcy5yZXN1bHQgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZygi54K56LWe54q25oCB77yaIiwgcmVzLnJlc3VsdCk7CiAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKg0KICAgICAqIOaUueWPmOeCuei1nuaVsA0KICAgICAqLwogICAgY2hhbmdlX3ByYWlzZShvYmopIHsKICAgICAgdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIudXNlcl9pZDsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHNvdXJjZV90YWJsZTogInRoZW1hdGljX2FjdGl2aXRpZXMiLAogICAgICAgIHNvdXJjZV9maWVsZDogInRoZW1hdGljX2FjdGl2aXRpZXNfaWQiLAogICAgICAgIHNvdXJjZV9pZDogdGhpcy5vYmpbInRoZW1hdGljX2FjdGl2aXRpZXNfaWQiXSwKICAgICAgICB1c2VyX2lkCiAgICAgIH07CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLm9iai5wcmFpc2VfbGVuID0gcGFyc2VJbnQoX3RoaXMub2JqLnByYWlzZV9sZW4pOwogICAgICAvLyDngrnotZ7nirbmgIEKICAgICAgaWYgKHRoaXMuc3RhdGVfcHJhaXNlKSB7CiAgICAgICAgdGhpcy5zdGF0ZV9wcmFpc2UgPSBmYWxzZTsKICAgICAgICB0aGlzLiRnZXQoJ34vYXBpL3ByYWlzZS9kZWw/JywgcXVlcnksIHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICB2YXIgcHJhaXNlX2xlbiA9IF90aGlzLm9iai5wcmFpc2VfbGVuIC0gMTsKICAgICAgICAgICAgdGhpcy4kcG9zdCgnfi9hcGkvdGhlbWF0aWNfYWN0aXZpdGllcy9zZXQ/dGhlbWF0aWNfYWN0aXZpdGllc19pZD0nICsgX3RoaXMub2JqWyJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIl0sIHsKICAgICAgICAgICAgICBwcmFpc2VfbGVuCiAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmt7vliqDngrnotZ7mlbDnirbmgIHvvJoiLCByZXMucmVzdWx0KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLlj5bmtojngrnotZ4iKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMuZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdGVfcHJhaXNlID0gdHJ1ZTsKICAgICAgICB0aGlzLiRwb3N0KCd+L2FwaS9wcmFpc2UvYWRkPycsIHF1ZXJ5LCByZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgdmFyIHByYWlzZV9sZW4gPSBfdGhpcy5vYmoucHJhaXNlX2xlbiArIDE7CiAgICAgICAgICAgIHRoaXMuJHBvc3QoJ34vYXBpL3RoZW1hdGljX2FjdGl2aXRpZXMvc2V0P3RoZW1hdGljX2FjdGl2aXRpZXNfaWQ9JyArIF90aGlzLm9ialsidGhlbWF0aWNfYWN0aXZpdGllc19pZCJdLCB7CiAgICAgICAgICAgICAgcHJhaXNlX2xlbgogICAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5re75Yqg54K56LWe5pWw54q25oCB77yaIiwgcmVzLnJlc3VsdCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiR0b2FzdCgi54K56LWe5oiQ5YqfIik7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5lcnJvcikgewogICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzLmVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICA7CiAgICB9LAogICAgLyoqDQogICAgICog5YiG6aG15ZmoDQogICAgICogQHBhcmFtIHsgTnVtYmVyIH0gcGFnZV9udW0g5YiG6aG15pWwDQogICAgICogQHJldHVybiB7IE9iamVjdCB9IOafpeivouWvueixoQ0KICAgICAqLwogICAgbGlua19nZW4ocGFnZV9udW0pIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWVyeTogdGhpcy5xdWVyeQogICAgICB9OwogICAgfSwKICAgIC8qKg0KICAgICAq5Yqg6L295LiL5LiA6aG1DQogICAgICovCiAgICBjaGFuZ2VfcGFnZShwYWdlX251bSkgewogICAgICB0aGlzLmdldF9jb21tZW50KHRoaXMub2JqLCBwYWdlX251bSk7CiAgICAgIHRoaXMuZm9ybV9jb21tZW50LnJlcGx5X3RvX2lkID0gMDsKICAgIH0sCiAgICAvKioNCiAgICAgKiDmm7TmlrDor4TorroNCiAgICAgKi8KICAgIHVwZGF0ZV9jb21tZW50KCkgewogICAgICB0aGlzLmdldF9jb21tZW50KHRoaXMub2JqKTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDojrflj5bor4TorroNCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmog5paH56ug5a+56LGhDQogICAgICogQHBhcmFtIHsgTnVtYmVyIH0gcGFnZSDliIbpobXmlbANCiAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBzaXplIOivhOiuuuaYvuekuuadoeaVsA0KICAgICAqLwogICAgZ2V0X2NvbW1lbnQob2JqLCBwYWdlID0gMSwgc2l6ZSA9IDUpIHsKICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9jb21tZW50L2dldF9saXN0PyIsIHsKICAgICAgICBzb3VyY2VfdGFibGU6ICJ0aGVtYXRpY19hY3Rpdml0aWVzIiwKICAgICAgICBzb3VyY2VfZmllbGQ6ICJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIiwKICAgICAgICBzb3VyY2VfaWQ6IHRoaXMub2JqWyJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIl0sCiAgICAgICAgcGFnZSwKICAgICAgICBzaXplLAogICAgICAgIHJlcGx5X3RvX2lkOiAiMCIsCiAgICAgICAgb3JkZXJieTogImNyZWF0ZV90aW1lIGRlc2MiCiAgICAgIH0sIGpzb24gPT4gewogICAgICAgIGlmIChqc29uLnJlc3VsdCkgewogICAgICAgICAgdmFyIGxpc3RfY29tbWVudCA9IGpzb24ucmVzdWx0Lmxpc3Q7CiAgICAgICAgICBsaXN0X2NvbW1lbnQubWFwKG8gPT4gewogICAgICAgICAgICBvLmxpc3RfcmVwbHkgPSBbXTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5hZGRfcmVwbHkobGlzdF9jb21tZW50KS50aGVuKGxpc3QgPT4gewogICAgICAgICAgICB0aGlzLmxpc3RfY29tbWVudCA9IGxpc3Q7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY291bnRfcGFnZXMgPSBNYXRoLmNlaWwoanNvbi5yZXN1bHQuY291bnQgLyBzaXplKSB8fCAxOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqDQogICAgICogQHBhcmFtIHsgQXJyYXkgfSBsaXN0IOivhOiuuuWIl+ihqA0KICAgICAqIOa3u+WKoOWbnuWkjeWIsOivhOiuuuWIl+ihqA0KICAgICAqLwogICAgYWRkX3JlcGx5KGxpc3QpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxpc3QubGVuZ3RoOyBpZHgrKykgewogICAgICAgICAgY29uc3Qgb2JqID0gbGlzdFtpZHhdOwogICAgICAgICAgdGhpcy4kZ2V0KCJ+L2FwaS9jb21tZW50L2dldF9saXN0PyIsIHsKICAgICAgICAgICAgc291cmNlX3RhYmxlOiAidGhlbWF0aWNfYWN0aXZpdGllcyIsCiAgICAgICAgICAgIHNvdXJjZV9maWVsZDogInRoZW1hdGljX2FjdGl2aXRpZXNfaWQiLAogICAgICAgICAgICBzb3VyY2VfaWQ6IHRoaXMub2JqWyJ0aGVtYXRpY19hY3Rpdml0aWVzX2lkIl0sCiAgICAgICAgICAgIG9yZGVyYnk6ICJjcmVhdGVfdGltZSBkZXNjIiwKICAgICAgICAgICAgcmVwbHlfdG9faWQ6IG9iai5jb21tZW50X2lkCiAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgIG9iai5saXN0X3JlcGx5ID0gcmVzLnJlc3VsdC5saXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmVzb2x2ZShsaXN0KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmVzcG9uZGVudCgpIHsKICAgICAgdmFyIHJlcGx5X3RvX2lkID0gdGhpcy5mb3JtX2NvbW1lbnQucmVwbHlfdG9faWQ7CiAgICAgIHZhciByZXNwb25kZW50ID0gIiI7CiAgICAgIHRoaXMubGlzdF9jb21tZW50Lm1hcChvID0+IHsKICAgICAgICBpZiAoby5jb21tZW50X2lkID09PSByZXBseV90b19pZCkgewogICAgICAgICAgcmVzcG9uZGVudCA9IG8ubmlja25hbWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3BvbmRlbnQ7CiAgICB9CiAgfSwKICBtb3VudGVkKCkge30KfTs="},{"version":3,"mappings":"AAqEA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAEAC;MAEAC;QACA;MACA;MAEAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAX;MACAY;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;;EACAC;IACA;AACA;AACA;IACAC;MACAZ;MACA;MACA;QACAa;MACA;QACA;UACAC;UACA;YACAR;YACAC;YACAC;YACAO;UACA;UACA;YACAD;UACA;QACA,OACA;UACAA;QACA;MACA;IACA;IACAE;MACA;MACA;QACAF;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAG;MACA;MAEA;QACAX;QACAC;QACAC;QACAO;MACA;MAEA;QACAD;QACA;UACA;UACA;UACAA;QACA,OACA;UACAA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAI;MACAC;IACA;IACA;AACA;AACA;IACAC;MACA;MAEA;QACAd;QACAC;QACAC;QACAO;MACA;;MAEA;MACA;QACA;QACA;UACA;YACA;UACA,OACA;YACA;YACAD;UACA;QACA;MACA;QACA;QACAb;QACA;QACAA;QACA;UACA;YACA;UACA,OACA;YACA;YACAa;UACA;QACA;MACA;MAAA;IACA;IACA;AACA;AACA;AACA;IACAO;MACA;MAEA;QACAf;QACAC;QACAC;MACA;QACA;UACA;UACAM;QACA,OACA;UACA;UACAA;QACA;MACA;MAEA;QACAR;QACAC;QACAC;QACAO;MACA;QACA;UACA;UACAD;QACA,OACA;UACA;UACAA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAQ;MACA;MAEA;QACAhB;QACAC;QACAC;QACAO;MACA;MAEA;MACAQ;MACA;MACA;QACA;QACA;UACA;YACA;YACA;cACAC;YACA;cACA;gBACAV;cACA,OACA;gBACAA;cACA;YACA;YACA;UACA,OACA;YACA;YACAA;UACA;QACA;MACA;QACA;QACA;UACA;YACA;YACA;cACAU;YACA;cACA;gBACAV;cACA,OACA;gBACAA;cACA;YACA;YACA;UACA,OACA;YACA;YACAA;UACA;QACA;MACA;MAAA;IACA;IACA;AACA;AACA;AACA;AACA;IACAW;MACA;QACAxB;MACA;IACA;IACA;AACA;AACA;IACAyB;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA,UACA,2BACA;QACAtB;QACAC;QACAC;QACAqB;QACAC;QACArB;QACAsB;MACA,GACAC;QACA;UACA;UACAvC;YACAwC;UACA;UACA;YACA;UACA;UACA;QACA;MACA,EACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA;QACA;UACA;UACA,UACA,2BACA;YACA5B;YACAC;YACAC;YACAuB;YACAtB;UACA,GACA0B;YACA;cACAnC;YACA;UACA,EACA;QACA;QACAoC;MACA;IACA;EAEA;EACAC;IACAC;MACA;MACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;EACA;EAEAC,WACA;AAEA","names":["mixins","components","list_comment","bar_title","form_editor","div_thematic_activities","data","url_get_obj","field","obj","query","praise","state_praise","state_collect","form_comment","source_table","source_field","source_id","reply_to_id","count_pages","methods","add_hits","hits","console","user_id","get_obj_after","get_collect","toShare","window","change_collect","get_praise","change_praise","_this","praise_len","link_gen","change_page","update_comment","get_comment","page","size","orderby","json","o","add_reply","res","resolve","computed","respondent","mounted"],"sourceRoot":"src/views/thematic_activities","sources":["details.vue"],"sourcesContent":["<template>\r\n\t<div class=\"diy_details page_thematic_activities\" id=\"thematic_activities_details\">\r\n\t\t<div class='warp'>\r\n\t\t\t<div class='container'>\r\n\t\t\t\t<div class='row'>\r\n\t\t\t\t\t<div class='col'>\r\n\t\t\t\t\t\t<div class='card_thematic_activities'>\r\n\t\t\t\t\t\t\t<div_thematic_activities :obj=\"obj\"></div_thematic_activities>\r\n\r\n\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 评论区 -->\r\n\t\t<div class=\"warp\" v-if=\"$check_action('/comment/list', 'get')\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<!-- 评论区 -->\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<bar_title class=\"mt\" title=\"评论区\"\tv-if=\"list_comment.length\"/>\r\n\t\t\t\t\t\t<div class=\"comment_box\"\tv-if=\"list_comment.length\">\r\n\t\t\t\t\t\t\t<list_comment\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100\"\r\n\t\t\t\t\t\t\t\t\t:list=\"list_comment\"\r\n\t\t\t\t\t\t\t\t\t:obj=\"form_comment\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<b-pagination-nav\r\n\t\t\t\t\t\t\t\t\t:base-url=\"$route.path\"\r\n\t\t\t\t\t\t\t\t\t:number-of-pages=\"count_pages\"\r\n\t\t\t\t\t\t\t\t\t:link-gen=\"link_gen\"\r\n\t\t\t\t\t\t\t\t\t@change=\"change_page\"\r\n\t\t\t\t\t\t\t\t\tfirst-number\r\n\t\t\t\t\t\t\t\t\tlast-number\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- 发表评论 -->\r\n\t\t\t\t\t\t<div class=\"form_editor form_edit_box\">\r\n\t\t\t\t\t\t\t<div class=\"details_form_editor_title\">发表评论</div>\r\n\t\t\t\t\t\t\t<div class=\"fl ml-3 answer_title\" v-show=\"form_comment.reply_to_id\">\r\n\t\t\t\t\t\t\t\t对 <i>{{ respondent }}</i> 回复:\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"fr mr-3\" v-show=\"form_comment.reply_to_id\">\r\n\t\t\t\t\t\t\t\t<b-button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline-primary reset_answer_personnel\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"form_comment.reply_to_id = 0\"\r\n\t\t\t\t\t\t\t\t>重置回复人\r\n\t\t\t\t\t\t\t\t</b-button\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<form_editor\r\n\t\t\t\t\t\t\t\t\tclass=\"fn\"\r\n\t\t\t\t\t\t\t\t\t:form=\"form_comment\"\r\n\t\t\t\t\t\t\t\t\t@update_comment=\"update_comment\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport div_thematic_activities from \"@/components/diy/div_thematic_activities.vue\";\r\n\timport list_comment from \"@/components/diy/list_comment.vue\";\r\n\timport bar_title from \"@/components/diy/bar_title.vue\";\r\n\timport form_editor from \"@/components/diy/form_editor.vue\";\r\n\timport mixin from \"@/mixins/page.js\";\r\n\texport default {\r\n\t\tmixins:[mixin],\r\n\t\tcomponents:{\r\n\t\t\tlist_comment,\r\n\t\t\tbar_title,\r\n\t\t\tform_editor,\r\n\t\t\tdiv_thematic_activities\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\turl_get_obj: \"~/api/thematic_activities/get_obj?\",\r\n\r\n\t\t\t\tfield: \"thematic_activities_id\",\r\n\r\n\t\t\t\tobj: {\r\n\t\t\t\t\t\"praise_len\": 0,\r\n\t\t\t\t},\r\n\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t\t\"activity_name\": \"\",\r\n\t\t\t\t\t\t\t\"picture\": \"\",\r\n\t\t\t\t\t\t\t\"activity_type\": \"\",\r\n\t\t\t\t\t\t\t\"event_location\": \"\",\r\n\t\t\t\t\t\t\t\"activity_time\": \"\",\r\n\t\t\t\t\t\t\t\"event_details\": \"\",\r\n\t\t\t\t\t\t\"thematic_activities_id\":0,\r\n\t\t\t\t},\r\n\t\t\t\t// 点赞\r\n\t\t\t\tpraise: 0,\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tstate_praise: false,\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tstate_collect: false,\r\n\t\t\t\tlist_comment: [],\r\n\t\t\t\tform_comment: {\r\n\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\tsource_id: 0,\r\n\t\t\t\t\treply_to_id: 0,\r\n\t\t\t\t},\r\n\t\t\t\tcount_pages: 1, // 页面数\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t/**\r\n\t\t\t * 添加访问量\r\n\t\t\t */\r\n\t\t\tadd_hits(obj) {\r\n\t\t\t\tobj[\"hits\"] = obj[\"hits\"] + 1;\r\n\t\t\t\tvar hits = obj[\"hits\"];\r\n\t\t\t\tthis.$post('~/api/thematic_activities/set?thematic_activities_id=' + obj[\"thematic_activities_id\"], {\r\n\t\t\t\t\thits\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\tconsole.log(\"添加访问量状态：\" ,res.result);\r\n\t\t\t\t\t\tvar body = {\r\n\t\t\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\t\t\tsource_id: this.obj.thematic_activities_id,\r\n\t\t\t\t\t\t\tuser_id: this.$store.state.user.user_id,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.$post(\"~/api/hits/add?\", body, (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tget_obj_after(json) {\r\n\t\t\t\t// 判断是否获取到数据\r\n\t\t\t\tif (json && json.result && json.result.obj) {\r\n\t\t\t\t\tconsole.log(json.result.obj)\r\n\t\t\t\t\tvar obj = json.result.obj;\r\n\t\t\t\t\tthis.obj = obj\r\n\t\t\t\t\t// 增加点击数\r\n\t\t\t\t\tthis.add_hits(obj);\r\n\t\t\t\t\t// 获取点赞数\r\n\t\t\t\t\tthis.get_praise(obj);\r\n\t\t\t\t\t// 初始化收藏状态\r\n\t\t\t\t\tthis.get_collect(obj);\r\n\t\t\t\t\tthis.get_comment(obj);\r\n\t\t\t\t\tthis.form_comment.source_id = this.obj.thematic_activities_id;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 初始化收藏状态\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_collect(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\tsource_id: obj[\"thematic_activities_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.$get('~/api/collect/count?', query, (res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tvar bl = res.result ? true : false;\r\n\t\t\t\t\t\tthis.state_collect = bl;\r\n\t\t\t\t\t\tconsole.log(\"收藏状态：\" + bl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error) {\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t /****\r\n\t\t\t * 分享点击\r\n\t\t\t *\r\n\t\t\t *  */\r\n\t\t\ttoShare(e){\r\n\t\t\t\twindow.open(e);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 改变收藏状态\r\n\t\t\t */\r\n\t\t\tchange_collect() {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"thematic_activities_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tif (this.state_collect) {\r\n\t\t\t\t\tthis.state_collect = false;\r\n\t\t\t\t\tthis.$get('~/api/collect/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tthis.$toast(\"取消收藏\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_collect = true;\r\n\t\t\t\t\t\t\t\tquery.title = this.obj.activity_name\r\n\t\t\t\t\t/*[/if]*/\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery.img = this.obj.picture\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$post('~/api/collect/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tthis.$toast(\"收藏成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取点赞\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\tsource_id: obj[\"thematic_activities_id\"]\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.praise = res.result;\r\n\t\t\t\t\t\tconsole.log(\"点赞数：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\tsource_id: obj[\"thematic_activities_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.state_praise = res.result ? true : false;\r\n\t\t\t\t\t\tconsole.log(\"点赞状态：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 改变点赞数\r\n\t\t\t */\r\n\t\t\tchange_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"thematic_activities_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar _this = this;\r\n        _this.obj.praise_len = parseInt(_this.obj.praise_len)\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tif (this.state_praise) {\r\n\t\t\t\t\tthis.state_praise = false;\r\n\t\t\t\t\tthis.$get('~/api/praise/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len-1\r\n\t\t\t\t\t\t\tthis.$post('~/api/thematic_activities/set?thematic_activities_id=' + _this.obj[\"thematic_activities_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"取消点赞\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_praise = true;\r\n\t\t\t\t\tthis.$post('~/api/praise/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len+1\r\n\t\t\t\t\t\t\tthis.$post('~/api/thematic_activities/set?thematic_activities_id=' + _this.obj[\"thematic_activities_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"点赞成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 分页器\r\n\t\t\t * @param { Number } page_num 分页数\r\n\t\t\t * @return { Object } 查询对象\r\n\t\t\t */\r\n\t\t\tlink_gen(page_num) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tquery: this.query,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t *加载下一页\r\n\t\t\t */\r\n\t\t\tchange_page(page_num) {\r\n\t\t\t\tthis.get_comment(this.obj, page_num);\r\n\t\t\t\tthis.form_comment.reply_to_id = 0;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 更新评论\r\n\t\t\t */\r\n\t\t\tupdate_comment() {\r\n\t\t\t\tthis.get_comment(this.obj);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取评论\r\n\t\t\t * @param { Object } obj 文章对象\r\n\t\t\t * @param { Number } page 分页数\r\n\t\t\t * @param { Number } size 评论显示条数\r\n\t\t\t */\r\n\t\t\tget_comment(obj, page = 1, size = 5) {\r\n\t\t\t\tthis.$get(\r\n\t\t\t\t\t\t\"~/api/comment/get_list?\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\t\t\tsource_id: this.obj[\"thematic_activities_id\"],\r\n\t\t\t\t\t\t\tpage,\r\n\t\t\t\t\t\t\tsize,\r\n\t\t\t\t\t\t\treply_to_id: \"0\",\r\n\t\t\t\t\t\t\torderby: \"create_time desc\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t(json) => {\r\n\t\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\t\tvar list_comment = json.result.list;\r\n\t\t\t\t\t\t\t\tlist_comment.map((o) => {\r\n\t\t\t\t\t\t\t\t\to.list_reply = [];\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.add_reply(list_comment).then((list) => {\r\n\t\t\t\t\t\t\t\t\tthis.list_comment = list;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.count_pages = Math.ceil(json.result.count / size) || 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @param { Array } list 评论列表\r\n\t\t\t * 添加回复到评论列表\r\n\t\t\t */\r\n\t\t\tadd_reply(list) {\r\n\t\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\t\tfor (let idx = 0; idx < list.length; idx++) {\r\n\t\t\t\t\t\tconst obj = list[idx];\r\n\t\t\t\t\t\tthis.$get(\r\n\t\t\t\t\t\t\t\t\"~/api/comment/get_list?\",\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource_table: \"thematic_activities\",\r\n\t\t\t\t\t\t\t\t\tsource_field: \"thematic_activities_id\",\r\n\t\t\t\t\t\t\t\t\tsource_id: this.obj[\"thematic_activities_id\"],\r\n\t\t\t\t\t\t\t\t\torderby: \"create_time desc\",\r\n\t\t\t\t\t\t\t\t\treply_to_id: obj.comment_id,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\t\t\t\tobj.list_reply = res.result.list;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve(list);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\trespondent() {\r\n\t\t\t\tvar reply_to_id = this.form_comment.reply_to_id;\r\n\t\t\t\tvar respondent = \"\";\r\n\t\t\t\tthis.list_comment.map((o) => {\r\n\t\t\t\t\tif (o.comment_id === reply_to_id) {\r\n\t\t\t\t\t\trespondent = o.nickname;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn respondent;\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.qecode {\r\n  display: flex;\r\n  align-content: center;\r\n  width: 270px;\r\n  background: white;\r\n  position: absolute;\r\n  left: 20%;\r\n  top: 20px;\r\n  z-index: 999;\r\n}\r\n.qecodeImg {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: center;\r\n  text-align: center;\r\n  padding-top: 10px;\r\n  margin: 0 auto;\r\n}\r\n.btn_share{\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttop: 15px;\r\n\tbackground: rgb(240, 238, 238);\r\n\tborder: 1px solid #ccc;\r\n\theight: 38px;\r\n\tmargin-left: 10px;\r\n\tpadding: 3px 10px;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\tborder-radius: 5px;\r\n}\r\n.btn_share_icon{\r\n\twidth: 30px;\r\n\theight: 28px;\r\n\tfloat: left;\r\n\tmargin-right: 10px;\r\n}\r\n.share_box{\r\n\tdisplay: none;\r\n\tfloat: left;\r\n}\r\n.share_box img{\r\n\twidth: 30px;\r\n\theight: 28px;\r\n\tmargin-right: 10px;\r\n}\r\n.btn_share:hover .share_box{\r\n\tdisplay: block;\r\n}\r\n</style>\r\n"]}]}